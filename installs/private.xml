<?xml version="1.0"?>
<root>
  <item>
    <name>kui</name>

    <item>
      <name>IDE (Eclipse, IntelliJ IDEA)</name>
      <appendix>**IntelliJ IDEA**: you must set keymaps to "Eclipse (Mac OS X)"</appendix>
      <appdef>
        <appname>IDE</appname>
        <equal>com.jetbrains.intellij</equal>
        <equal>org.eclipse.platform.ide</equal>
      </appdef>
      <item>
        <name>Command+X to Command+3 (Quick Assist/Find Action)</name>
        <identifier>kui.ide.commandX</identifier>
        <modifier_not>
          ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
          ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
          ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
        </modifier_not>
        <only>IDE</only>
        <autogen>
          __KeyToKey__
          KeyCode::X, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
          KeyCode::KEY_3, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
        </autogen>
      </item>
      <item>
        <name>Control+O to F3 (Find definition)</name>
        <identifier>kui.ide.commandO</identifier>
        <modifier_not>
          ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
          ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
          ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
        </modifier_not>
        <only>IDE</only>
        <autogen>
          __KeyToKey__
          KeyCode::O, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL,
          KeyCode::F3
        </autogen>
      </item>
      <item>
        <name>Command+I to Command+E (Search editing files)</name>
        <identifier>kui.ide.commandI</identifier>
        <modifier_not>
          ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
          ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
          ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
        </modifier_not>
        <only>IDE</only>
        <autogen>
          __KeyToKey__
          KeyCode::I, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
          KeyCode::E, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
        </autogen>
      </item>
      <item>
        <name>Control+G to Esc</name>
        <identifier>kui.ide.controlG</identifier>
        <modifier_not>
          ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
          ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
          ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
        </modifier_not>
        <only>IDE</only>
        <autogen>
          __KeyToKey__
          KeyCode::G, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL,
          KeyCode::ESCAPE,
        </autogen>
      </item>
      <item>
        <name>Command+/ to Control+Space (Completion)</name>
        <identifier>kui.ide.commandSlash</identifier>
        <modifier_not>
          ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
          ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
          ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
        </modifier_not>
        <only>IDE</only>
        <autogen>
          __KeyToKey__
          KeyCode::SLASH, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
          KeyCode::SPACE, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL,
        </autogen>
      </item>
      <item>
        <name>Command+; to Command+/ (Toggle comment)</name>
        <identifier>kui.ide.commandSemicolon</identifier>
        <modifier_not>
          ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
          ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
          ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
        </modifier_not>
        <only>IDE</only>
        <autogen>
          __KeyToKey__
          KeyCode::SEMICOLON, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
          KeyCode::SLASH, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
        </autogen>
      </item>
    </item>

    <item>
      <name>Thinkpad Keyboard</name>
      <devicevendordef>
        <vendorname>LENOVO</vendorname>
        <vendorid>0x17ef</vendorid>
      </devicevendordef>
      <deviceproductdef>
        <productname>THINKPAD_COMPACT_USB_KEYBOARD</productname>
        <productid>0x6047</productid>
      </deviceproductdef>
      <item>
        <name>Reverse scrolling direction</name>
        <identifier>kui.thinkpad.reverseScrolling</identifier>
        <device_only>DeviceVendor::LENOVO, DeviceProduct::THINKPAD_COMPACT_USB_KEYBOARD</device_only>
        <autogen>
          __FlipScrollWheel__
          Option::FLIPSCROLLWHEEL_HORIZONTAL,
          Option::FLIPSCROLLWHEEL_VERTICAL,
        </autogen>
      </item>
    </item>

    <item>
      <name>Command+W to Command+C</name>
      <identifier>kui.commandW</identifier>
      <modifier_not>
        ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <not>{{EMACS_MODE_IGNORE_APPS}}</not>
      <!-- Do not use "not filter" on changing Command+XXX -->
      <autogen>
        __KeyToKey__
        KeyCode::W, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
        KeyCode::C, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
      </autogen>
    </item>

    <item>
      <name>Command+W to Command+C on MarkSet</name>
      <identifier>kui.commandShiftLockW</identifier>
      {{ EMACS_MODE_MARKSET_EXTRA }}
      <autogen>
        __KeyToKey__
        KeyCode::W, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND  | ModifierFlag::SHIFT_L | ModifierFlag::NONE,
        KeyCode::VK_LOCK_SHIFT_L_FORCE_OFF,
        KeyCode::C, ModifierFlag::COMMAND_L,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_controlSpace_core,
        Option::NOREPEAT,
      </autogen>
    </item>

    <item>
      <name>Command+BF to Option+Left/Right</name>
      <identifier>kui.commandBF</identifier>
      <not>{{EMACS_MODE_IGNORE_APPS}}</not>
      <modifier_not>
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::CONTROL_L, ModifierFlag::CONTROL_R,
      </modifier_not>
      <autogen>
        __KeyToKey__
        KeyCode::B, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
        KeyCode::CURSOR_LEFT, ModifierFlag::OPTION_L,
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::F, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_COMMAND,
        KeyCode::CURSOR_RIGHT, ModifierFlag::OPTION_L,
      </autogen>
    </item>

    <item>
      <name>Control+L to Command+L on Google Chrome</name>
      <identifier>remap.googleChrome.controlL</identifier>
      <modifier_not>
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
        ModifierFlag::SHIFT_L,   ModifierFlag::SHIFT_R,
      </modifier_not>
      <autogen>
        __KeyToKey__
        KeyCode::L, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL,
        KeyCode::L, ModifierFlag::COMMAND_L
      </autogen>
      <only>GOOGLE_CHROME</only>
    </item>

    <item>
      <name>Control+T to Command+T on Google Chrome</name>
      <identifier>remap.googleChrome.controlT</identifier>
      <modifier_not>
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
      </modifier_not>
      <autogen>
        __KeyToKey__
        KeyCode::T, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL,
        KeyCode::T, ModifierFlag::COMMAND_L
      </autogen>
      <only>GOOGLE_CHROME</only>
    </item>

    <item>
      <name>Control+R to Command+R on Google Chrome</name>
      <identifier>remap.googleChrome.controlR</identifier>
      <modifier_not>
        ModifierFlag::COMMAND_L, ModifierFlag::COMMAND_R,
        ModifierFlag::OPTION_L,  ModifierFlag::OPTION_R,
      </modifier_not>
      <autogen>
        __KeyToKey__
        KeyCode::R, MODIFIERFLAG_EITHER_LEFT_OR_RIGHT_CONTROL,
        KeyCode::R, ModifierFlag::COMMAND_L
      </autogen>
      <only>GOOGLE_CHROME</only>
    </item>
  </item>
</root>
